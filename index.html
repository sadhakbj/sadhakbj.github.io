<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Laravel Framework and 7 Golden Rules of Clean and maintainable Code</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/league.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section data-markdown>
            ## Laravel Framework & 7 Golden Rules of Clean, Simple and Maintainable Code
            ---
            [Bijaya Prasad Kuikel](https://www.facebook.com/sadhakbj) / [@sadhakbj](https://twitter.com/sadhakbj)

            Jr. Software Engineer

            [YoungInnovations Pvt. Ltd](http://younginnovations.com.np/) , Kumaripati, Lalitpur

        </section>

        <section data-markdown>
            ### Acknowledgement
            ---

            * Mr. Geshan Manandhar (Co-founder YIPL)

            * Mr. Sumit Chhetri (Sr. Software Engineer , YIPL)

        </section>

        <section data-markdown>
            ### Table of Contents
            ---
            * Introduction to Laravel Framework

            * Reasons to use Laravel Framework

            * 7 Golden Rules of Clean, Simple and Maintainable Code
        </section>

        <section data-markdown>
            ### PHP Frameworks
            ---
            ![frameworks](images/frameworks.jpg "frameworks")
        </section>

        <section data-markdown>
            ### What does Framework do for you?
            ---
            * Speeds up development.

            * Provides well organized, reusable and maintainable components.

            * Provides high level security.

        </section>

        <section data-markdown>
            ### Laravel
            ---
            ![laravel](images/laravel.jpg "laravel")

        </section>

        <section data-markdown>
            ### Introduction
            ---
            * MVC ,Open Source , Full Stack Framework.

            * Initial Release: June 2011

            * Most popular php framework - (2013 - 2015)

            * Framework with expressive, elegant syntax.

            * Website: [laravel.com](http://www.laravel.com)

            * Current Version: 5.2
        </section>

        <section data-markdown>
            ### Creator of Laravel
            ---
            Taylor Otwell

            ![taylor](images/taylor.png "taylor")
        </section>

        <section data-markdown>
            ### Laravel Philosophy
            ---

            * Development must be an enjoyable, creative experience to be truly fulfilling.

            * Attempts to take the pain out of development by easing common tasks used in the majority of web
            projects,like authentication, routing, sessions, and caching.

            * Aims to make development process pleasing one.

            * Happy developers make the best code.

        </section>

        <section data-markdown>
            ### Laravel Philosophy
            ---

            * Attempted to combine the best of from different web frameworks:

                * ROR
                * ASP .NET MVC
                * Sinatra

        </section>

        <section data-markdown>
            ### 7 Reasons to use Laravel Framework
            ---
            * Excellent Documentation.

            * Laracasts

            * Intuitive Syntax

            * Artisan Code Generation

            * Out-of-the-box features

            * Blade Templating Engine

            * Supporting Products and Packages

        </section>

        <section data-markdown>
            ### Reason 1 : Excellent Documentation
            ---
            * Easy to start up with laravel.

            * Visit [Laravel Docs](http://www.laravel.com/docs)

        </section>

        <section data-markdown>
            ### Reason 2 : Laracasts
            ---
            * Laravel is supported by Laracasts.

            * Discussion Forum (over 35,075 conversations)

            * Features a mix of free and paid videos that show you how to use Laravel

            * Laracasts is addictive

            * Owned by Jeffrey Way
        </section>

        <section data-markdown>
            ### Jeffrey Way
            ---
            * An expert and well-versed instructor

            ![jeffrey](images/jeff_way.jpeg "jeffrey")
        </section>

        <section data-markdown>
            ### Reason 3 : Intuitive Syntax
            ---
            * Follows principle of clear and maintainable code

            * Examples:

            ```
            // asking Role models for all the roles with pagination.

            $roles = Role::paginate(5);

            ```
            Another
            ```
            // asking for single model instance , throw exception if not found

            $role = Role::findOrFail($id);
            ```
        </section>

        <section data-markdown>
            ### Reason 4: Artisan Code Generation
            ---
            * Laravel ships great command line tool named Artisan

            * provides a number of helpful commands

            * Example: Make a new Controller
            ```
            php artisan make:controller SampleController
            ```

            * Example: Make a new Migration
            ```
            php artisan make:migration create_articles_table --create
            ```

        </section>

        <section data-markdown>
            ### Reason 5: Out-of-the-box Features
            ---
            * Really easy Authentication and password reset functionality

            * Eloquent ORM

            * Really Easy Access Control Layer Implementation

            * Mailer , Scheduler , Method Injection , FlySystem (Cloud file system) , Unit Testing package

            * Other features like: Migration , Seeder , Model factories
        </section>

        <section data-markdown>
            ### Reason 6: Blade Templating Engine
            ---
            * Simple, yet powerful templating engine provided with Laravel

            * Makes working with the typical PHP/HTML much better

            * Typical PHP / HTML :
            ```php
            if($accepted == true)
            {
                echo $userName;
            }
            ```

            * Blade templating engine:
            ```php
            @if($accepted)
                {{ $userName }}
            @endif
            ```

        </section>

        <section data-markdown>
            ### Reason 7: Supporting Products and Packages
            ---
            * Well-supported by many packages

            * Services from Laravel:
                * Homestead
                * Elixir
                * Forge
                * Spark

            * Helps beginning from local environment (Homestead) to deployment (Forge)

        </section>

        <section data-markdown>
            ### Laravel
            ---
            ![awesome](images/awesome.jpg "awesome")
        </section>

        <section data-markdown>
            ### Let's start learning
            ---

            * [Laravel Docs](www.laravel.com/docs)

            * [Laracasts](www.laracasts.com)

            ![start](images/start.jpg "start")


        </section>

        <section data-markdown>
            ## 7 Golden Rules of Clean, Simple and Maintainable Code
            ---

        </section>

        <section data-markdown>
            ## Why Write clean code ?
            ---
        </section>

        <section data-markdown>
            ### Code for humans not machines
            ##### Think that the next person who reads your code is [Ghas Katne Khurkera](https://www.youtube.com/watch?v=kKVp6ytaJJA) ko bhoot.
            
            ##### If you don't write clean code, he will follow you to the end.
            ![bhoot](images/bhoot.jpg "bhoot")
            
        </section>

        <section data-markdown>
            ### Rule 1: Follow a consistent coding standard
            ---
            * If you are doing PHP follow
            [PSR-2](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md)

            * Other languages like Java, Python, Javascript also have coding standards

            * Use a linter or CS fixer to follow the standard. Integrate build tools in Sublime or use default PHPStrom
            code refactor, to automate this

            * Makes it easy for everyone - including yourself - in the team, to read the code
        </section>

        <section data-markdown>
            ### Rule 2: Name things properly, long variable and function/method names are allowed
            ---
            * Stick to one convention. ($someVariable or $SomeVariable or $some_variable)

            * Don't use abbreviations, may not be understandable to the person, who reads your code

            * Naming is difficult, do it well. Name classes, variables and methods that make sense

            * Do not be redundant.
            * [Example](https://gist.github.com/shhetri/bb6dd1981267eb3a4cf4#file-rule-php-L3)
        </section>

        <section data-markdown>
            ### Rule 3: Be expressive, write code as you speak and be optimally verbose
            ---
            * Focus on API rather than patterns.

            * Frist, write down the API for perfect scenario, observe how it feels, then jump to coding and make it
            work.

            * Tell, don't ask.
            * [Example](https://gist.github.com/shhetri/bb6dd1981267eb3a4cf4#file-rule-php-L28)
        </section>
        <section data-markdown>
            ### Rule 4: Max indent per method should be 2, in case of exceptions 3
            ---
            * Avoid the use of else.

            * Extract the logic to other readable method.

            * Return early

            * Throw exception
            * [Example](https://gist.github.com/shhetri/bb6dd1981267eb3a4cf4#file-rule-php-L60)
        </section>
        <section data-markdown>
            <script type="text/template">
                6 levels of indentation (in our public code) [source](https://github.com/younginnovations/aidstream/blob/master/application/modules/default/controllers/WepController.php)
            
                   
            </script>
            <aside class="notes">
                * also mention if you access property of a property a->b->c->d() there something wrong
                * create wrapper for it.
            </aside>
        </section>
        </section>

        <section data-markdown>
            ### Rule 5: Avoid creating [god object](https://en.wikipedia.org/wiki/God_object) and long methods
            ---
            * One class should do one thing not everything like `StatusChanger` or `StatusManager` not `StatusGod`

            * Avoid using **`and`** in method names like **`validateAndSave`**, one method needs to do one thing and one
            thing well

            * Keep methods small, a 50 line method is a problem

            * Keep classes small, a 1000 line class is a pain

            * Keep the instance variables to as low as 6 or 7.

        </section>

        <section data-markdown>
            ### Rule 6: Keep the method in one place, inject the class and call it, [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)
            ---
            * In MVC keep controllers slim, business logic belongs to services or repositories, check [symfony best
            practice](http://symfony.com/doc/current/best_practices/controllers.html) for controller 5-10-20

            
            * Use language constructs like interfaces, traits to make code more expressive and reusable

            * If you find yourself copying the same code several times, extract that code into its own method.

            * Refactor your code, every once in a while.
            * [Example](https://gist.github.com/shhetri/bb6dd1981267eb3a4cf4#file-rule-php-L145)      
                        
        </section>

       
        <section data-markdown>
            ### Rule 7: Avoid in-line comments (comment with code), put comments in the method doc
            ---
            * Comment is a code smell (anti pattern), like
            [here](https://github.com/younginnovations/aidstream/blob/master/application/modules/simplified/models/Simplified.php#L38)

            * If you need to write comments to explain your code, it means you need to put it in a new method.

        </section>

         <section data-markdown>
            * [Example](https://gist.github.com/shhetri/bb6dd1981267eb3a4cf4#file-rule-php-L247)

            ```
            public function addActivity($data , $default)
            {
            $this->defaults = $default;
            $identity = Zend_Auth::getInstance()->getIdentity();
            //var_dump($data);exit;
            $model = $this->model;
            $modelActivity = new Model_Activity();

            $activitiesId = $model->getIdByField('iati_activities', 'account_id', $identity->account_id);

            //Create activity and its defaults
            $iatiIdentifier['activity_identifier'] = $data['identifier'];
            ```

         </section>   

        <section data-markdown>
            ### Other considerations
            ---
            
            * Rather than starting to write something on your own spend 5 minutes to read the framework/library
            documentation to know if its already provided

            * Extract out methods and rename variables as necessary

            * Read about cyclomatic complexity and N-Path complexity,
            [here](http://modess.io/2013/05/19/cyclomatic-and-npath-complexity-explained/)
        </section>

        <section data-markdown>
            ### Recap 1
            ---
            * Rule 1: Follow a consistent coding standard

            * Rule 2: Name things properly, long variable and function names are allowed

            * Rule 3: Be expressive, write code as you speak and be optimally verbose

            * Rule 4: Max indent per method should be 2, in case of exceptions 3
        </section>

        <section data-markdown>
            ### Recap 2
            ---
            * Rule 5: Avoid creating [god object](https://en.wikipedia.org/wiki/God_object) and long methods

            * Rule 6: Keep the method in one place, inject the class and call it,
            [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)

            * Rule 7: Avoid in-line comments (comment with code), put comments in the method doc

            * Don't forget the consideration and reading

            PS: you can print the recap slides and mug them up.
        </section>

        <section data-markdown>
            ### References
            ---
            * Most code examples are taken from YIPL open source code on Github.

            * [Rules for simpler code - laracast](https://laracasts.com/series/simple-rules-for-simpler-code/episodes/3)

            * [Maintainable Code](https://www.justsoftwaresolutions.co.uk/articles/maintainable_code.html)

            * [Readable Code](http://werve.net/articles/writing-readable-code/)

            
            * [Your code sucks - let fix it](http://www.slideshare.net/rdohms/your-code-sucks-lets-fix-it-15471808)


        </section>

        <section data-markdown>
            ### Thanks

            #### Hope we can step by step minimize code complexity and write clean, simple and maintainable code.

            #### Remember, simple, understandable, readable and eventually maintainable code is greater than any pattern
            ever invented (be practical).
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });

    Reveal.configure({slideNumber: true});
</script>
</body>
</html>
